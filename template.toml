# ============================================
# GHOST CMS 6.0 ADVANCED
# Redis Cache + MySQL + R2 Storage optionnel
# ============================================

[variables]
main_domain = "${domain}"
mysql_root_password = "${password:32}"
mysql_password = "${password:32}"

# Mail SMTP (optionnel)
mail_host = ""
mail_port = "587"
mail_user = ""
mail_password = ""
mail_from = ""

# Cloudflare R2 (optionnel)
r2_access_key_id = ""
r2_secret_access_key = ""
r2_bucket_name = ""
r2_account_id = ""
r2_public_url = ""

[config]
env = [
    "GHOST_HOST=${main_domain}",
    "MYSQL_ROOT_PASSWORD=${mysql_root_password}",
    "MYSQL_PASSWORD=${mysql_password}",
    "MAIL_HOST=${mail_host}",
    "MAIL_PORT=${mail_port}",
    "MAIL_USER=${mail_user}",
    "MAIL_PASSWORD=${mail_password}",
    "MAIL_FROM=${mail_from}",
    "R2_ACCESS_KEY_ID=${r2_access_key_id}",
    "R2_SECRET_ACCESS_KEY=${r2_secret_access_key}",
    "R2_BUCKET_NAME=${r2_bucket_name}",
    "R2_ACCOUNT_ID=${r2_account_id}",
    "R2_PUBLIC_URL=${r2_public_url}"
]

[[config.domains]]
serviceName = "ghost"
port = 2368
host = "${main_domain}"
path = "/"
